{% extends "base_layout.html" %}
{% block content %}

<div class="card shadow-sm">
  <div class="card-body">
    <h3 class="mb-4">Edit Member</h3>

    <form method="POST" class="row g-3">

      <!-- Name -->
      <div class="col-md-6">
        <label class="form-label">Name</label>
        <input type="text" name="name" value="{{ member.name }}" class="form-control" required>
      </div>

      <!-- Mobile (10 digit simple validation) -->
      <div class="col-md-6">
        <label class="form-label">Mobile</label>
        <input type="text"
               name="mobile"
               value="{{ member.mobile }}"
               class="form-control"
               required
               maxlength="10"
               minlength="10"
               title="Mobile number must be exactly 10 digits">
      </div>

      <!-- Plan -->
      <div class="col-md-6">
        <label class="form-label">Plan</label>
        <select name="plan" class="form-control" required>
          <option value="">Select Plan</option>
          <option value="Monthly" {% if member.plan == "Monthly" %}selected{% endif %}>1 Month</option>
          <option value="Quarterly" {% if member.plan == "Quarterly" %}selected{% endif %}>3 Month</option>
          <option value="Half-Yearly" {% if member.plan == "Half-Yearly" %}selected{% endif %}>6 Month</option>
          <option value="Yearly" {% if member.plan == "Yearly" %}selected{% endif %}>Yearly</option>
        </select>
      </div>

      <!-- Package (New Field) -->
      <div class="col-md-6">
        <label class="form-label">Package</label>
        <select name="package" class="form-control" required>
          <option value="">Select Package</option>
          <option value="Gym" {% if member.package == "Gym" %}selected{% endif %}>Body Building</option>
          <option value="Cardio" {% if member.package == "Cardio" %}selected{% endif %}>Body Building + Cardio</option>
          <option value="Gym + Cardio" {% if member.package == "Gym + Cardio" %}selected{% endif %}>Personal Training </option>
        </select>
      </div>

      <!-- Joined Date -->
      <div class="col-md-6">
        <label class="form-label">Joined Date</label>
        <input type="date" name="joined_date" value="{{ member.joined_date }}" class="form-control" required>
      </div>

      <!-- End Date -->
      <div class="col-md-6">
        <label class="form-label">End Date</label>
        <input type="date" name="end_date" value="{{ member.end_date }}" class="form-control" required>
      </div>

      <!-- Buttons -->
      <div class="col-12 mt-4">
        <button type="submit" class="btn btn-success">Update Member</button>
        <a href="{{ url_for('view_members') }}" class="btn btn-secondary">Cancel</a>
      </div>

    </form>
  </div>
</div>

{% endblock %}
